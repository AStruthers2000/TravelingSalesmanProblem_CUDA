<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Traveling Salesman Problem: Algorithms/AntColony.cu File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Traveling Salesman Problem
   </div>
   <div id="projectbrief">The primary objective of this project is to explore the potential of Ant Colony Optimization (ACO), a metaheuristic inspired by the foraging behavior of ants, in solving the Travelling Salesman Problem (TSP) using Compute Unified Device Architecture (CUDA). The goal of this project is to demonstrate the feasibility and advantages of using GPGPU-based parallel computing in solving complex combinatorial optimization problems.  By harnessing the parallel processing capabilities of CUDA, we seek to develop an efficient parallel implementation of ACO for TSP solving on GPGPUs, aiming to significantly reduce the computational time required to find near-optimal solutions for large-scale instances of the problem.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_ant_colony_8cu.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">AntColony.cu File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;AntColony.cuh&quot;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;curand_kernel.h&gt;</code><br />
</div>
<p><a href="_ant_colony_8cu_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a34e80c6e6dcf61cb7ab6db47fcd5c893" id="r_a34e80c6e6dcf61cb7ab6db47fcd5c893"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a34e80c6e6dcf61cb7ab6db47fcd5c893">ACO_main</a> (<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">adj_mat</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">size</a>)</td></tr>
<tr class="memdesc:a34e80c6e6dcf61cb7ab6db47fcd5c893"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main entry point for the ACO algorithm.  <br /></td></tr>
<tr class="separator:a34e80c6e6dcf61cb7ab6db47fcd5c893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c7f129a227865f2816ecdc1561768a1" id="r_a0c7f129a227865f2816ecdc1561768a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a0c7f129a227865f2816ecdc1561768a1">move_ant</a> (<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_pheromones</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_distances</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">curandState</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">states</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_distances</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_visited</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>)</td></tr>
<tr class="memdesc:a0c7f129a227865f2816ecdc1561768a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles the probabilistic tour generation behavior each ant will have.  <br /></td></tr>
<tr class="separator:a0c7f129a227865f2816ecdc1561768a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1bca5bb39ac0b73c92b33b57123d53" id="r_afb1bca5bb39ac0b73c92b33b57123d53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#afb1bca5bb39ac0b73c92b33b57123d53">evaporate_pheromone</a> (<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_pheromones</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>)</td></tr>
<tr class="memdesc:afb1bca5bb39ac0b73c92b33b57123d53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows for uniform pheromone evaporation.  <br /></td></tr>
<tr class="separator:afb1bca5bb39ac0b73c92b33b57123d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8628347ed6a7c0800505c9def85d48fb" id="r_a8628347ed6a7c0800505c9def85d48fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a8628347ed6a7c0800505c9def85d48fb">update_pheromone</a> (<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_pheromones</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_distances</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>)</td></tr>
<tr class="memdesc:a8628347ed6a7c0800505c9def85d48fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the pheromones according to the standard constant pheromone deposit method.  <br /></td></tr>
<tr class="separator:a8628347ed6a7c0800505c9def85d48fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af524c262fedf7990583bf352fe3715bb" id="r_af524c262fedf7990583bf352fe3715bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#af524c262fedf7990583bf352fe3715bb">reset_histories</a> (<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_distances</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_visited</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>)</td></tr>
<tr class="memdesc:af524c262fedf7990583bf352fe3715bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function used to reset the histories of each ant to prevent confusion in future iterations.  <br /></td></tr>
<tr class="separator:af524c262fedf7990583bf352fe3715bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6090d150f203e8e23592b9f30998b808" id="r_a6090d150f203e8e23592b9f30998b808"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a6090d150f203e8e23592b9f30998b808">allocate_memory</a> ()</td></tr>
<tr class="memdesc:a6090d150f203e8e23592b9f30998b808"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function used to allocate all host and device memory in one organized location.  <br /></td></tr>
<tr class="separator:a6090d150f203e8e23592b9f30998b808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673fea64299ecd234b011d0317c12a2d" id="r_a673fea64299ecd234b011d0317c12a2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a673fea64299ecd234b011d0317c12a2d">initialize_values</a> (<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">adj_mat</a>)</td></tr>
<tr class="memdesc:a673fea64299ecd234b011d0317c12a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function used to initialize all host memory and copy over initial states to the device when necessary.  <br /></td></tr>
<tr class="separator:a673fea64299ecd234b011d0317c12a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f81a9a3690fcba7180fa860e0c2422f" id="r_a9f81a9a3690fcba7180fa860e0c2422f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a9f81a9a3690fcba7180fa860e0c2422f">free_memory</a> ()</td></tr>
<tr class="memdesc:a9f81a9a3690fcba7180fa860e0c2422f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function used to free all host and device memory at the end of runtime execution.  <br /></td></tr>
<tr class="separator:a9f81a9a3690fcba7180fa860e0c2422f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5a49b05177027e38314c434c172472" id="r_a1b5a49b05177027e38314c434c172472"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__device__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">unsigned</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a1b5a49b05177027e38314c434c172472">get_index</a> ()</td></tr>
<tr class="memdesc:a1b5a49b05177027e38314c434c172472"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper function to calculate the unique thread ID.  <br /></td></tr>
<tr class="separator:a1b5a49b05177027e38314c434c172472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace5d2dbc52193d125be3ec4a13c5c192" id="r_ace5d2dbc52193d125be3ec4a13c5c192"><td class="memItemLeft" align="right" valign="top">__global__ void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">setup_curand_states</a> (curandState *dev_states, unsigned long seed)</td></tr>
<tr class="memdesc:ace5d2dbc52193d125be3ec4a13c5c192"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper function to initialize cuRAND states with a random seed.  <br /></td></tr>
<tr class="separator:ace5d2dbc52193d125be3ec4a13c5c192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49fe3083b19f6f211b2c8d626854170" id="r_af49fe3083b19f6f211b2c8d626854170"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#af49fe3083b19f6f211b2c8d626854170">print_matrix</a> (<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix</a>, <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">char</a> *<a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">msg</a>)</td></tr>
<tr class="memdesc:af49fe3083b19f6f211b2c8d626854170"><td class="mdescLeft">&#160;</td><td class="mdescRight">A simple helper function to print a matrix, useful for debugging.  <br /></td></tr>
<tr class="separator:af49fe3083b19f6f211b2c8d626854170"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a69579af52345ffaee98944067860c4cd" id="r_a69579af52345ffaee98944067860c4cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a></td></tr>
<tr class="separator:a69579af52345ffaee98944067860c4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7fb7ac1449177cf1d68463d56aa8b95" id="r_aa7fb7ac1449177cf1d68463d56aa8b95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#aa7fb7ac1449177cf1d68463d56aa8b95">host_distances</a></td></tr>
<tr class="separator:aa7fb7ac1449177cf1d68463d56aa8b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28dead550744f139f15d842ce88b9d4b" id="r_a28dead550744f139f15d842ce88b9d4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a28dead550744f139f15d842ce88b9d4b">host_pheromones</a></td></tr>
<tr class="separator:a28dead550744f139f15d842ce88b9d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d6d8da95d12b515caec3677dea1e82" id="r_aa0d6d8da95d12b515caec3677dea1e82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#aa0d6d8da95d12b515caec3677dea1e82">dev_distances</a></td></tr>
<tr class="separator:aa0d6d8da95d12b515caec3677dea1e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a4298b9e791d37ac8170459b35791f" id="r_a77a4298b9e791d37ac8170459b35791f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a></td></tr>
<tr class="separator:a77a4298b9e791d37ac8170459b35791f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7f9470775e0e11270fdd04c2f6cfe5" id="r_a7e7f9470775e0e11270fdd04c2f6cfe5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a7e7f9470775e0e11270fdd04c2f6cfe5">host_distancesHistory</a></td></tr>
<tr class="separator:a7e7f9470775e0e11270fdd04c2f6cfe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae588e7ba409f63a6a591c26ab5ed9598" id="r_ae588e7ba409f63a6a591c26ab5ed9598"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a></td></tr>
<tr class="separator:ae588e7ba409f63a6a591c26ab5ed9598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b3458e30694614f12776ac6744a6ec" id="r_ad9b3458e30694614f12776ac6744a6ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#ad9b3458e30694614f12776ac6744a6ec">dev_toursHistory</a></td></tr>
<tr class="separator:ad9b3458e30694614f12776ac6744a6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a804e24c44514a093b2e4540f827fb263" id="r_a804e24c44514a093b2e4540f827fb263"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a804e24c44514a093b2e4540f827fb263">dev_visitedHistory</a></td></tr>
<tr class="separator:a804e24c44514a093b2e4540f827fb263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9bc3d879ddb4da65bc3b4a2206b7f4" id="r_a7a9bc3d879ddb4da65bc3b4a2206b7f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">curandState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_ant_colony_8cu.html#a7a9bc3d879ddb4da65bc3b4a2206b7f4">dev_curandStates</a></td></tr>
<tr class="separator:a7a9bc3d879ddb4da65bc3b4a2206b7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a34e80c6e6dcf61cb7ab6db47fcd5c893" name="a34e80c6e6dcf61cb7ab6db47fcd5c893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34e80c6e6dcf61cb7ab6db47fcd5c893">&#9670;&#160;</a></span>ACO_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> ACO_main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>adj_mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main entry point for the ACO algorithm. </p>
<p>Handles the allocation, initialization, running, and freeing of all memory throughout the simulation. This function is passed an adjacency matrix that defines the problem we are trying to solve, as well as the problem size. This function is responsible for all the kernel calls needed for ACO, and iterates the desired number of iterations, performing memory management when necessary. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adj_mat</td><td>The problem definition. A flattened 1D array that represents the problem instance. Can be symmetric or asymmetric </td></tr>
    <tr><td class="paramname">size</td><td>The problem size, aka the number of cities </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The best solution generated by any ant after the desired number of iterations </dd></dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00032">32</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   33</span>{</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">size</a>;</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_function" href="_ant_colony_8cu.html#a6090d150f203e8e23592b9f30998b808">allocate_memory</a>();</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_function" href="_ant_colony_8cu.html#a673fea64299ecd234b011d0317c12a2d">initialize_values</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">adj_mat</a>);</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="comment">//print_matrix(host_distances, &quot;Distances&quot;);</span></div>
<div class="line"><span class="lineno">   40</span>    <span class="comment">//print_matrix(host_pheromones, &quot;Pheromones&quot;);</span></div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">time_t</a> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">seed</a>;</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">time</a>(&amp;<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">seed</a>);</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>    <span class="comment">//initializes cuRAND states. Currently, the device handles random number generation when needed. We could optimize this</span></div>
<div class="line"><span class="lineno">   46</span>    <span class="comment">//by pre-generating many numbers that we pass to the device and use on the device when necessary. This could improve the runtime</span></div>
<div class="line"><span class="lineno">   47</span>    <span class="comment">//efficiency, but for now this solution is sufficient</span></div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">setup_curand_states&lt;&lt;&lt;GROUPS_OF_N_ANTS, THREADS_PER_BLOCK&gt;</a>&gt;&gt;(<a class="code hl_variable" href="_ant_colony_8cu.html#a7a9bc3d879ddb4da65bc3b4a2206b7f4">dev_curandStates</a>, (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">long</a>) <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">seed</a>);</div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaDeviceSynchronize</a>();</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_blocks</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">floor</a>((<a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>) / <a class="code hl_define" href="_model_parameters_8h.html#a869bf6501bf4809f3de1db59ef2dd914">THREADS_PER_BLOCK</a>)) + 1;</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">iter</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">iter</a> &lt; <a class="code hl_define" href="_model_parameters_8h.html#ab3be0641eb76161a48ed528e6eea2ac3">NUM_ITERATIONS</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">iter</a>++)</div>
<div class="line"><span class="lineno">   55</span>    {</div>
<div class="line"><span class="lineno">   56</span>        <span class="comment">//the first part of ACO is having each ant move and generate a single solution probabilistically</span></div>
<div class="line"><span class="lineno">   57</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">move_ant&lt;&lt;&lt;GROUPS_OF_N_ANTS, THREADS_PER_BLOCK&gt;</a>&gt;&gt;(<a class="code hl_variable" href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#aa0d6d8da95d12b515caec3677dea1e82">dev_distances</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a7a9bc3d879ddb4da65bc3b4a2206b7f4">dev_curandStates</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a>,</div>
<div class="line"><span class="lineno">   58</span>                                                          <a class="code hl_variable" href="_ant_colony_8cu.html#ad9b3458e30694614f12776ac6744a6ec">dev_toursHistory</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a804e24c44514a093b2e4540f827fb263">dev_visitedHistory</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>);</div>
<div class="line"><span class="lineno">   59</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaDeviceSynchronize</a>();</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>        <span class="comment">//the following commented code is useful for logging the fitness each iteration. This clearly takes more time than</span></div>
<div class="line"><span class="lineno">   62</span>        <span class="comment">//necessary when we don&#39;t care about the fitness each iteration, but can be useful for determining fitness behavior</span></div>
<div class="line"><span class="lineno">   63</span><span class="comment">//        auto host_dist = (double*)(malloc(NUM_ANTS * sizeof(double)));</span></div>
<div class="line"><span class="lineno">   64</span><span class="comment">//        cudaMemcpy(host_dist, dev_distancesHistory, NUM_ANTS * sizeof(double), cudaMemcpyDeviceToHost);</span></div>
<div class="line"><span class="lineno">   65</span><span class="comment">//        double sum = 0.0;</span></div>
<div class="line"><span class="lineno">   66</span><span class="comment">//        double min = std::numeric_limits&lt;double&gt;::max();</span></div>
<div class="line"><span class="lineno">   67</span><span class="comment">//        for(int i = 0; i &lt; NUM_ANTS; i++)</span></div>
<div class="line"><span class="lineno">   68</span><span class="comment">//        {</span></div>
<div class="line"><span class="lineno">   69</span><span class="comment">//            sum += host_dist[i];</span></div>
<div class="line"><span class="lineno">   70</span><span class="comment">//            if(host_dist[i] &lt; min)</span></div>
<div class="line"><span class="lineno">   71</span><span class="comment">//                min = host_dist[i];</span></div>
<div class="line"><span class="lineno">   72</span><span class="comment">//        }</span></div>
<div class="line"><span class="lineno">   73</span><span class="comment">//        double avg = sum / NUM_ANTS;</span></div>
<div class="line"><span class="lineno">   74</span><span class="comment">//        std::cout &lt;&lt; &quot;Average value on iter &quot; &lt;&lt; iter &lt;&lt; &quot;: &quot; &lt;&lt; avg &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">   75</span><span class="comment">//        std::cout &lt;&lt; &quot;Minimum value on iter &quot; &lt;&lt; iter &lt;&lt; &quot;: &quot; &lt;&lt; min &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">   76</span><span class="comment">//        free(host_dist);</span></div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>        <span class="comment">//the second part of ACO is to evaporate the pheromones uniformly. We do this by having 1 thread for each edge</span></div>
<div class="line"><span class="lineno">   79</span>        <span class="comment">//in the pheromone matrix. This way we can write in parallel and update the matrix concurrently</span></div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">evaporate_pheromone&lt;&lt;&lt;matrix_blocks, THREADS_PER_BLOCK&gt;</a>&gt;&gt;(<a class="code hl_variable" href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>);</div>
<div class="line"><span class="lineno">   81</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaDeviceSynchronize</a>();</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>        <span class="comment">//the last step in the standard ACO is to then update the pheromone matrix with the ants solutions. In this step</span></div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">//we have each ant be responsible for updating the edges that they traversed. This will cause a small data race</span></div>
<div class="line"><span class="lineno">   85</span>        <span class="comment">//because multiple ants could walk the same edge and update simultaneously, but we handle this by using atomic operations</span></div>
<div class="line"><span class="lineno">   86</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">update_pheromone&lt;&lt;&lt;GROUPS_OF_N_ANTS, THREADS_PER_BLOCK&gt;</a>&gt;&gt;(<a class="code hl_variable" href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a>,</div>
<div class="line"><span class="lineno">   87</span>                                                                      <a class="code hl_variable" href="_ant_colony_8cu.html#ad9b3458e30694614f12776ac6744a6ec">dev_toursHistory</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>);</div>
<div class="line"><span class="lineno">   88</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaDeviceSynchronize</a>();</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>        <span class="comment">//we want to reset the histories of each ant after each iteration (except the last one) so that no false data for</span></div>
<div class="line"><span class="lineno">   91</span>        <span class="comment">//tours or previous city visits persists for the next run</span></div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">iter</a> &lt; <a class="code hl_define" href="_model_parameters_8h.html#ab3be0641eb76161a48ed528e6eea2ac3">NUM_ITERATIONS</a> - 1)</div>
<div class="line"><span class="lineno">   93</span>        {</div>
<div class="line"><span class="lineno">   94</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">reset_histories&lt;&lt;&lt;GROUPS_OF_N_ANTS, THREADS_PER_BLOCK&gt;</a>&gt;&gt;(<a class="code hl_variable" href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#ad9b3458e30694614f12776ac6744a6ec">dev_toursHistory</a>,</div>
<div class="line"><span class="lineno">   95</span>                                                                     <a class="code hl_variable" href="_ant_colony_8cu.html#a804e24c44514a093b2e4540f827fb263">dev_visitedHistory</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>);</div>
<div class="line"><span class="lineno">   96</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaDeviceSynchronize</a>();</div>
<div class="line"><span class="lineno">   97</span>        }</div>
<div class="line"><span class="lineno">   98</span>    }</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="comment">//we copy the array of ant distances to the host so that we can find the minimum distance, aka best solution</span></div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">auto</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">host_dist</a> = (<span class="keywordtype">double</span>*)(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">malloc</a>(<a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)));</div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMemcpy</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">host_dist</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a>, <a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>), <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMemcpyDeviceToHost</a>);</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">min</a> = std::numeric_limits&lt;double&gt;::max();</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> &lt; <a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>++)</div>
<div class="line"><span class="lineno">  105</span>    {</div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">host_dist</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>] &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">min</a>)</div>
<div class="line"><span class="lineno">  107</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">min</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">host_dist</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>];</div>
<div class="line"><span class="lineno">  108</span>    }</div>
<div class="line"><span class="lineno">  109</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Minimum value: &quot;</span> &lt;&lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">min</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">free</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">host_dist</a>);</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">//free memory and reset the device so that next runs are completely independent</span></div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_function" href="_ant_colony_8cu.html#a9f81a9a3690fcba7180fa860e0c2422f">free_memory</a>();</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaDeviceReset</a>();</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">min</a>;</div>
<div class="line"><span class="lineno">  117</span>}</div>
<div class="ttc" id="a_ant_colony_8cu_html_a6090d150f203e8e23592b9f30998b808"><div class="ttname"><a href="_ant_colony_8cu.html#a6090d150f203e8e23592b9f30998b808">allocate_memory</a></div><div class="ttdeci">void allocate_memory()</div><div class="ttdoc">A function used to allocate all host and device memory in one organized location.</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00346">AntColony.cu:346</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_a673fea64299ecd234b011d0317c12a2d"><div class="ttname"><a href="_ant_colony_8cu.html#a673fea64299ecd234b011d0317c12a2d">initialize_values</a></div><div class="ttdeci">void initialize_values(double *adj_mat)</div><div class="ttdoc">A function used to initialize all host memory and copy over initial states to the device when necessa...</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00364">AntColony.cu:364</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_a69579af52345ffaee98944067860c4cd"><div class="ttname"><a href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a></div><div class="ttdeci">int cities</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00008">AntColony.cu:8</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_a77a4298b9e791d37ac8170459b35791f"><div class="ttname"><a href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a></div><div class="ttdeci">double * dev_pheromones</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00011">AntColony.cu:11</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_a7a9bc3d879ddb4da65bc3b4a2206b7f4"><div class="ttname"><a href="_ant_colony_8cu.html#a7a9bc3d879ddb4da65bc3b4a2206b7f4">dev_curandStates</a></div><div class="ttdeci">curandState * dev_curandStates</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00018">AntColony.cu:18</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_a804e24c44514a093b2e4540f827fb263"><div class="ttname"><a href="_ant_colony_8cu.html#a804e24c44514a093b2e4540f827fb263">dev_visitedHistory</a></div><div class="ttdeci">int * dev_visitedHistory</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00016">AntColony.cu:16</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_a9f81a9a3690fcba7180fa860e0c2422f"><div class="ttname"><a href="_ant_colony_8cu.html#a9f81a9a3690fcba7180fa860e0c2422f">free_memory</a></div><div class="ttdeci">void free_memory()</div><div class="ttdoc">A function used to free all host and device memory at the end of runtime execution.</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00393">AntColony.cu:393</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_aa0d6d8da95d12b515caec3677dea1e82"><div class="ttname"><a href="_ant_colony_8cu.html#aa0d6d8da95d12b515caec3677dea1e82">dev_distances</a></div><div class="ttdeci">double * dev_distances</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00011">AntColony.cu:11</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_ace5d2dbc52193d125be3ec4a13c5c192"><div class="ttname"><a href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">setup_curand_states</a></div><div class="ttdeci">__global__ void setup_curand_states(curandState *dev_states, unsigned long seed)</div><div class="ttdoc">A helper function to initialize cuRAND states with a random seed.</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00423">AntColony.cu:423</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_ad9b3458e30694614f12776ac6744a6ec"><div class="ttname"><a href="_ant_colony_8cu.html#ad9b3458e30694614f12776ac6744a6ec">dev_toursHistory</a></div><div class="ttdeci">int * dev_toursHistory</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00016">AntColony.cu:16</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_ae588e7ba409f63a6a591c26ab5ed9598"><div class="ttname"><a href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a></div><div class="ttdeci">double * dev_distancesHistory</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00014">AntColony.cu:14</a></div></div>
<div class="ttc" id="a_model_parameters_8h_html_a869bf6501bf4809f3de1db59ef2dd914"><div class="ttname"><a href="_model_parameters_8h.html#a869bf6501bf4809f3de1db59ef2dd914">THREADS_PER_BLOCK</a></div><div class="ttdeci">#define THREADS_PER_BLOCK</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00004">ModelParameters.h:4</a></div></div>
<div class="ttc" id="a_model_parameters_8h_html_a8d7114d1439b8bf84f84d84b6a5e99d5"><div class="ttname"><a href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a></div><div class="ttdeci">#define NUM_ANTS</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00006">ModelParameters.h:6</a></div></div>
<div class="ttc" id="a_model_parameters_8h_html_ab3be0641eb76161a48ed528e6eea2ac3"><div class="ttname"><a href="_model_parameters_8h.html#ab3be0641eb76161a48ed528e6eea2ac3">NUM_ITERATIONS</a></div><div class="ttdeci">#define NUM_ITERATIONS</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00013">ModelParameters.h:13</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6090d150f203e8e23592b9f30998b808" name="a6090d150f203e8e23592b9f30998b808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6090d150f203e8e23592b9f30998b808">&#9670;&#160;</a></span>allocate_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> allocate_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function used to allocate all host and device memory in one organized location. </p>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00346">346</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  347</span>{</div>
<div class="line"><span class="lineno">  348</span>    <a class="code hl_variable" href="_ant_colony_8cu.html#aa7fb7ac1449177cf1d68463d56aa8b95">host_distances</a> = (<span class="keywordtype">double</span>*)(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">malloc</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)));</div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_variable" href="_ant_colony_8cu.html#a28dead550744f139f15d842ce88b9d4b">host_pheromones</a> = (<span class="keywordtype">double</span>*)(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">malloc</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)));</div>
<div class="line"><span class="lineno">  350</span>    <a class="code hl_variable" href="_ant_colony_8cu.html#a7e7f9470775e0e11270fdd04c2f6cfe5">host_distancesHistory</a> = (<span class="keywordtype">double</span>*)(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">malloc</a>(<a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)));</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMalloc</a>(&amp;<a class="code hl_variable" href="_ant_colony_8cu.html#aa0d6d8da95d12b515caec3677dea1e82">dev_distances</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><span class="lineno">  353</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMalloc</a>(&amp;<a class="code hl_variable" href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><span class="lineno">  354</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMalloc</a>(&amp;<a class="code hl_variable" href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a>, <a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><span class="lineno">  355</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMalloc</a>(&amp;<a class="code hl_variable" href="_ant_colony_8cu.html#ad9b3458e30694614f12776ac6744a6ec">dev_toursHistory</a>, <a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno">  356</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMalloc</a>(&amp;<a class="code hl_variable" href="_ant_colony_8cu.html#a804e24c44514a093b2e4540f827fb263">dev_visitedHistory</a>, <a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno">  357</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMalloc</a>(&amp;<a class="code hl_variable" href="_ant_colony_8cu.html#a7a9bc3d879ddb4da65bc3b4a2206b7f4">dev_curandStates</a>, <a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a> * <span class="keyword">sizeof</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">curandState</a>));</div>
<div class="line"><span class="lineno">  358</span>}</div>
<div class="ttc" id="a_ant_colony_8cu_html_a28dead550744f139f15d842ce88b9d4b"><div class="ttname"><a href="_ant_colony_8cu.html#a28dead550744f139f15d842ce88b9d4b">host_pheromones</a></div><div class="ttdeci">double * host_pheromones</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00010">AntColony.cu:10</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_a7e7f9470775e0e11270fdd04c2f6cfe5"><div class="ttname"><a href="_ant_colony_8cu.html#a7e7f9470775e0e11270fdd04c2f6cfe5">host_distancesHistory</a></div><div class="ttdeci">double * host_distancesHistory</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00013">AntColony.cu:13</a></div></div>
<div class="ttc" id="a_ant_colony_8cu_html_aa7fb7ac1449177cf1d68463d56aa8b95"><div class="ttname"><a href="_ant_colony_8cu.html#aa7fb7ac1449177cf1d68463d56aa8b95">host_distances</a></div><div class="ttdeci">double * host_distances</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00010">AntColony.cu:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb1bca5bb39ac0b73c92b33b57123d53" name="afb1bca5bb39ac0b73c92b33b57123d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb1bca5bb39ac0b73c92b33b57123d53">&#9670;&#160;</a></span>evaporate_pheromone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> evaporate_pheromone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>matrix_pheromones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>&#160;</td>
          <td class="paramname"><em>num_cities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows for uniform pheromone evaporation. </p>
<p>Uniformly evaporates each edge's pheromones based off of the constant <a class="el" href="_model_parameters_8h.html#a3bf4402b9e2ae88e4462c3689f5d22b8">RHO</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix_pheromones</td><td>A pointer to the pheromone matrix to be evaporated </td></tr>
    <tr><td class="paramname">num_cities</td><td>The number of cities, aka the dimension of the pheromone matrix </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00244">244</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  245</span>{</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code hl_function" href="_ant_colony_8cu.html#a1b5a49b05177027e38314c434c172472">get_index</a>();</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span>(index &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>)</div>
<div class="line"><span class="lineno">  248</span>    {</div>
<div class="line"><span class="lineno">  249</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_pheromones</a>[index] *= (1.0 - <a class="code hl_define" href="_model_parameters_8h.html#a3bf4402b9e2ae88e4462c3689f5d22b8">RHO</a>);</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="comment">//UNUSED, NOT NECESSARY:</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="comment">//never let the pheromone trail get to 0 or less, because we want to encourage exploration</span></div>
<div class="line"><span class="lineno">  253</span>        <span class="comment">//if the pheromone trail was = 0, no ant would ever walk on this route again</span></div>
<div class="line"><span class="lineno">  254</span>        <span class="comment">//if the pheromone trail was &lt; 0, that doesn&#39;t make sense. ants don&#39;t produce ANTi-pheromone (ha, ant pun, thanks Abbi)</span></div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  257</span><span class="comment">        if(matrix_pheromones[index] &lt;= 0.0)</span></div>
<div class="line"><span class="lineno">  258</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno">  259</span><span class="comment">            matrix_pheromones[index] = 1.0 / num_cities;</span></div>
<div class="line"><span class="lineno">  260</span><span class="comment">        }</span></div>
<div class="line"><span class="lineno">  261</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  262</span>    }</div>
<div class="line"><span class="lineno">  263</span>}</div>
<div class="ttc" id="a_ant_colony_8cu_html_a1b5a49b05177027e38314c434c172472"><div class="ttname"><a href="_ant_colony_8cu.html#a1b5a49b05177027e38314c434c172472">get_index</a></div><div class="ttdeci">__device__ unsigned int get_index()</div><div class="ttdoc">A helper function to calculate the unique thread ID.</div><div class="ttdef"><b>Definition</b> <a href="_ant_colony_8cu_source.html#l00413">AntColony.cu:413</a></div></div>
<div class="ttc" id="a_model_parameters_8h_html_a3bf4402b9e2ae88e4462c3689f5d22b8"><div class="ttname"><a href="_model_parameters_8h.html#a3bf4402b9e2ae88e4462c3689f5d22b8">RHO</a></div><div class="ttdeci">#define RHO</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00010">ModelParameters.h:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f81a9a3690fcba7180fa860e0c2422f" name="a9f81a9a3690fcba7180fa860e0c2422f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f81a9a3690fcba7180fa860e0c2422f">&#9670;&#160;</a></span>free_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> free_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function used to free all host and device memory at the end of runtime execution. </p>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00393">393</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  394</span>{</div>
<div class="line"><span class="lineno">  395</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">free</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#aa7fb7ac1449177cf1d68463d56aa8b95">host_distances</a>);</div>
<div class="line"><span class="lineno">  396</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">free</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a28dead550744f139f15d842ce88b9d4b">host_pheromones</a>);</div>
<div class="line"><span class="lineno">  397</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">free</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a7e7f9470775e0e11270fdd04c2f6cfe5">host_distancesHistory</a>);</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaFree</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#aa0d6d8da95d12b515caec3677dea1e82">dev_distances</a>);</div>
<div class="line"><span class="lineno">  400</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaFree</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a>);</div>
<div class="line"><span class="lineno">  401</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaFree</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#ae588e7ba409f63a6a591c26ab5ed9598">dev_distancesHistory</a>);</div>
<div class="line"><span class="lineno">  402</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaFree</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#ad9b3458e30694614f12776ac6744a6ec">dev_toursHistory</a>);</div>
<div class="line"><span class="lineno">  403</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaFree</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a804e24c44514a093b2e4540f827fb263">dev_visitedHistory</a>);</div>
<div class="line"><span class="lineno">  404</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaFree</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a7a9bc3d879ddb4da65bc3b4a2206b7f4">dev_curandStates</a>);</div>
<div class="line"><span class="lineno">  405</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b5a49b05177027e38314c434c172472" name="a1b5a49b05177027e38314c434c172472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5a49b05177027e38314c434c172472">&#9670;&#160;</a></span>get_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__device__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">unsigned</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> get_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helper function to calculate the unique thread ID. </p>
<dl class="section return"><dt>Returns</dt><dd>The unique ID of this thread </dd></dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00413">413</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>{</div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">blockDim</a>.x * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">blockIdx</a>.x + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">threadIdx</a>.x;</div>
<div class="line"><span class="lineno">  416</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a673fea64299ecd234b011d0317c12a2d" name="a673fea64299ecd234b011d0317c12a2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673fea64299ecd234b011d0317c12a2d">&#9670;&#160;</a></span>initialize_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> initialize_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>adj_mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function used to initialize all host memory and copy over initial states to the device when necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adj_mat</td><td>The adjacency matrix for this problem run </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00364">364</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  365</span>{</div>
<div class="line"><span class="lineno">  366</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">memcpy</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#aa7fb7ac1449177cf1d68463d56aa8b95">host_distances</a>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">adj_mat</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><span class="lineno">  367</span>    <span class="comment">//print_matrix(host_distances, &quot;Distances:&quot;);</span></div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    <span class="comment">//initialize pheromone matrix to INIT_PHEROMONE_LEVEL as an arbitrary starting level</span></div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> &lt; <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>++)</div>
<div class="line"><span class="lineno">  371</span>    {</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a> &lt; <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a>++)</div>
<div class="line"><span class="lineno">  373</span>        {</div>
<div class="line"><span class="lineno">  374</span>            <span class="keywordtype">int</span> index = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a>;</div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> != <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a>)</div>
<div class="line"><span class="lineno">  376</span>            {</div>
<div class="line"><span class="lineno">  377</span>                <a class="code hl_variable" href="_ant_colony_8cu.html#a28dead550744f139f15d842ce88b9d4b">host_pheromones</a>[index] = <a class="code hl_define" href="_model_parameters_8h.html#a5d3b9a1c78242b9ccbbd7a69ec287dd8">INIT_PHEROMONE_LEVEL</a>;</div>
<div class="line"><span class="lineno">  378</span>            }</div>
<div class="line"><span class="lineno">  379</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  380</span>            {</div>
<div class="line"><span class="lineno">  381</span>                <a class="code hl_variable" href="_ant_colony_8cu.html#a28dead550744f139f15d842ce88b9d4b">host_pheromones</a>[index] = 0.0;</div>
<div class="line"><span class="lineno">  382</span>            }</div>
<div class="line"><span class="lineno">  383</span>        }</div>
<div class="line"><span class="lineno">  384</span>    }</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMemcpy</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#aa0d6d8da95d12b515caec3677dea1e82">dev_distances</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#aa7fb7ac1449177cf1d68463d56aa8b95">host_distances</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>), <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMemcpyHostToDevice</a>);</div>
<div class="line"><span class="lineno">  387</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMemcpy</a>(<a class="code hl_variable" href="_ant_colony_8cu.html#a77a4298b9e791d37ac8170459b35791f">dev_pheromones</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a28dead550744f139f15d842ce88b9d4b">host_pheromones</a>, <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>), <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">cudaMemcpyHostToDevice</a>);</div>
<div class="line"><span class="lineno">  388</span>}</div>
<div class="ttc" id="a_model_parameters_8h_html_a5d3b9a1c78242b9ccbbd7a69ec287dd8"><div class="ttname"><a href="_model_parameters_8h.html#a5d3b9a1c78242b9ccbbd7a69ec287dd8">INIT_PHEROMONE_LEVEL</a></div><div class="ttdeci">#define INIT_PHEROMONE_LEVEL</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00015">ModelParameters.h:15</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c7f129a227865f2816ecdc1561768a1" name="a0c7f129a227865f2816ecdc1561768a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c7f129a227865f2816ecdc1561768a1">&#9670;&#160;</a></span>move_ant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> move_ant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>matrix_pheromones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>matrix_distances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">curandState</a> *&#160;</td>
          <td class="paramname"><em>states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>history_distances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *&#160;</td>
          <td class="paramname"><em>history_tours</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *&#160;</td>
          <td class="paramname"><em>history_visited</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>&#160;</td>
          <td class="paramname"><em>num_cities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles the probabilistic tour generation behavior each ant will have. </p>
<p>Each ant probabilistically generates a tour using roulette wheel selection for random city movement. The roulette wheel is determined by the probability equation for ACO. Ants start at unique cities, ensuring that no edge is favored over any other. The ants start at the city equal to the ant's unique ID mod the number of cities, so that we get an even distribution of ants starting at each city. This ensures the solution space is appropriately explored. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix_pheromones</td><td>Pheromone matrix to help guide the ants </td></tr>
    <tr><td class="paramname">matrix_distances</td><td>Distance matrix provided for visible heuristic information </td></tr>
    <tr><td class="paramname">states</td><td>cuRAND states used for generating random probabilities. This can be optimized to have pre-generated random numbers instead of generating them on the device during runtime </td></tr>
    <tr><td class="paramname">history_distances</td><td>An array so that each ant can store its distance at the end of tour generation </td></tr>
    <tr><td class="paramname">history_tours</td><td>An array of size num_ants * num_cities so that each ant can record its tour in order </td></tr>
    <tr><td class="paramname">history_visited</td><td>An array of size num_ants * num_cities so that each ant can track the cities they've visited this iteration </td></tr>
    <tr><td class="paramname">num_cities</td><td>The number of cities each and must visit </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00137">137</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>{</div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">//where the ant&#39;s history starts</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> = <a class="code hl_function" href="_ant_colony_8cu.html#a1b5a49b05177027e38314c434c172472">get_index</a>();</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <span class="comment">//we will get an even distribution of ants starting at the various cities</span></div>
<div class="line"><span class="lineno">  144</span>    <span class="comment">//with roughly an even number of ants starting at each city</span></div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">current_city</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a>) % <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>;</div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_visited</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">current_city</a>] = 1;</div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>] = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">current_city</a>;</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="comment">//printf(&quot;Thread %d:%d starts at city %d\n&quot;, blockIdx.x, threadIdx.x, current_city);</span></div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    <span class="comment">//we will iterate n - 1 times, because we already know where we want to start</span></div>
<div class="line"><span class="lineno">  152</span>    <span class="comment">//on each iteration, we will calculate the probabilities of visiting each city</span></div>
<div class="line"><span class="lineno">  153</span>    <span class="comment">//that this ant hasn&#39;t visited yet, then use roulette wheel selection to visit</span></div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">//a city determined probabilistically. Once this loop completes, we need to also</span></div>
<div class="line"><span class="lineno">  155</span>    <span class="comment">//add the distance travelled from the last visited city, back to the beginning</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">//because a tour is only finished once we return to where we started</span></div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> = 1; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>++)</div>
<div class="line"><span class="lineno">  158</span>    {</div>
<div class="line"><span class="lineno">  159</span>        <span class="comment">//we only care about accumulating probability for cities we have not visited</span></div>
<div class="line"><span class="lineno">  160</span>        <span class="comment">//we want to compute:</span></div>
<div class="line"><span class="lineno">  161</span>        <span class="comment">//\sum_{m\in allowed} \tau_{im}^\alpha \cdot \eta_{im}^\beta</span></div>
<div class="line"><span class="lineno">  162</span>        <span class="comment">//where allowed is all cities we haven&#39;t visited yet</span></div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">total_prob</a> = 0.0;</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a> &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>++)</div>
<div class="line"><span class="lineno">  165</span>        {</div>
<div class="line"><span class="lineno">  166</span>            <span class="comment">//aka we have not yet visited this city</span></div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_visited</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>] != 1)</div>
<div class="line"><span class="lineno">  168</span>            {</div>
<div class="line"><span class="lineno">  169</span>                <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">current_city</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>;</div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">tau</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_pheromones</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a>];</div>
<div class="line"><span class="lineno">  171</span>                <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">eta</a> = 1.0 / <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a>];</div>
<div class="line"><span class="lineno">  172</span>                <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">total_prob</a> += <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">pow</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">tau</a>, <a class="code hl_define" href="_model_parameters_8h.html#af5abd28c44c29b7397c84f1fec4b1d84">ALPHA</a>) * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">pow</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">eta</a>, <a class="code hl_define" href="_model_parameters_8h.html#a1b996515309fc3c03449912bb33046e3">BETA</a>);</div>
<div class="line"><span class="lineno">  173</span>            }</div>
<div class="line"><span class="lineno">  174</span>        }</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>        <span class="comment">//perform roulette wheel selection to select our next city</span></div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">r</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">curand_uniform</a>(&amp;<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">states</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a>]) * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">total_prob</a>;</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">accum_prob</a> = 0.0;</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a> = -1;</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>        <span class="comment">//for each possible city, we want to compute:</span></div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">//\tau_{im}^\alpha \cdot \eta_{im}^\beta</span></div>
<div class="line"><span class="lineno">  183</span>        <span class="comment">//so that we can calculate P_{ij} as this product divided by the sum calculated above</span></div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">last_best</a> = 0;</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a> &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>++)</div>
<div class="line"><span class="lineno">  186</span>        {</div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_visited</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>] != 1)</div>
<div class="line"><span class="lineno">  188</span>            {</div>
<div class="line"><span class="lineno">  189</span>                <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">last_best</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">current_city</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>;</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>                <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">tau</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_pheromones</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a>];</div>
<div class="line"><span class="lineno">  194</span>                <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">eta</a> = 1.0 / <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a>];</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>                <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">prob</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">pow</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">tau</a>, <a class="code hl_define" href="_model_parameters_8h.html#af5abd28c44c29b7397c84f1fec4b1d84">ALPHA</a>) * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">pow</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">eta</a>, <a class="code hl_define" href="_model_parameters_8h.html#a1b996515309fc3c03449912bb33046e3">BETA</a>);</div>
<div class="line"><span class="lineno">  197</span>                <span class="comment">//double prob = num / total_prob;</span></div>
<div class="line"><span class="lineno">  198</span>                <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">accum_prob</a> += <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">prob</a>;</div>
<div class="line"><span class="lineno">  199</span>                <span class="comment">//printf(&quot;\tThread %d:%d tried to go to city %d, with a probability of %2.2f where accum prob = %2.2f\n&quot;, blockIdx.x, threadIdx.x, next_city, prob, accum_prob);</span></div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">if</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">accum_prob</a> &gt;= <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">r</a>)</div>
<div class="line"><span class="lineno">  202</span>                {</div>
<div class="line"><span class="lineno">  203</span>                    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">next_city</a>;</div>
<div class="line"><span class="lineno">  204</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  205</span>                }</div>
<div class="line"><span class="lineno">  206</span>            }</div>
<div class="line"><span class="lineno">  207</span>        }</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>        <span class="comment">//used for error checking just in case our indexing was incorrect</span></div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a> == -1)</div>
<div class="line"><span class="lineno">  211</span>        {</div>
<div class="line"><span class="lineno">  212</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">last_best</a>;</div>
<div class="line"><span class="lineno">  213</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">printf</a>(<span class="stringliteral">&quot;ERROR -1 || %d || accumProb %f || r %f\n&quot;</span>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">accum_prob</a>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">r</a>);</div>
<div class="line"><span class="lineno">  214</span>        }</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>        <span class="comment">//printf(&quot;Thread %d:%d is now visiting city %d\n&quot;, blockIdx.x, threadIdx.x, selected_city);</span></div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>        <span class="comment">//now that we have selected a city using the probability equation</span></div>
<div class="line"><span class="lineno">  219</span>        <span class="comment">//we want to actually move to that city.</span></div>
<div class="line"><span class="lineno">  220</span>        <span class="comment">//We need to add this city to this ant&#39;s tour, add this city to this</span></div>
<div class="line"><span class="lineno">  221</span>        <span class="comment">//ant&#39;s visited history, and add the distance from this move to this ant&#39;s</span></div>
<div class="line"><span class="lineno">  222</span>        <span class="comment">//distance history</span></div>
<div class="line"><span class="lineno">  223</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>] = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a>;</div>
<div class="line"><span class="lineno">  224</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_visited</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a>] = 1;</div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a>] += <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">current_city</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a>];</div>
<div class="line"><span class="lineno">  226</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">current_city</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">selected_city</a>;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <span class="comment">//we need to return to the starting city now</span></div>
<div class="line"><span class="lineno">  230</span>    <span class="comment">//we go from the last visited city</span></div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">from</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + (<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> - 1)];</div>
<div class="line"><span class="lineno">  232</span>    <span class="comment">//to the first visited city</span></div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">to</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>];</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a>] += <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">from</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">to</a>];</div>
<div class="line"><span class="lineno">  235</span>}</div>
<div class="ttc" id="a_model_parameters_8h_html_a1b996515309fc3c03449912bb33046e3"><div class="ttname"><a href="_model_parameters_8h.html#a1b996515309fc3c03449912bb33046e3">BETA</a></div><div class="ttdeci">#define BETA</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00009">ModelParameters.h:9</a></div></div>
<div class="ttc" id="a_model_parameters_8h_html_af5abd28c44c29b7397c84f1fec4b1d84"><div class="ttname"><a href="_model_parameters_8h.html#af5abd28c44c29b7397c84f1fec4b1d84">ALPHA</a></div><div class="ttdeci">#define ALPHA</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00008">ModelParameters.h:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af49fe3083b19f6f211b2c8d626854170" name="af49fe3083b19f6f211b2c8d626854170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af49fe3083b19f6f211b2c8d626854170">&#9670;&#160;</a></span>print_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> print_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">char</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A simple helper function to print a matrix, useful for debugging. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td>Matrix to be printed </td></tr>
    <tr><td class="paramname">msg</td><td>Message to be included along with the printing of the matrix </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00437">437</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  438</span>{</div>
<div class="line"><span class="lineno">  439</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">printf</a>(<span class="stringliteral">&quot;%s: \n&quot;</span>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">msg</a>);</div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> &lt; <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>++)</div>
<div class="line"><span class="lineno">  441</span>    {</div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a> &lt; <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a>++)</div>
<div class="line"><span class="lineno">  443</span>        {</div>
<div class="line"><span class="lineno">  444</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">printf</a>(<span class="stringliteral">&quot;%2.2f\t&quot;</span>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> * <a class="code hl_variable" href="_ant_colony_8cu.html#a69579af52345ffaee98944067860c4cd">cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">j</a>]);</div>
<div class="line"><span class="lineno">  445</span>        }</div>
<div class="line"><span class="lineno">  446</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  447</span>    }</div>
<div class="line"><span class="lineno">  448</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af524c262fedf7990583bf352fe3715bb" name="af524c262fedf7990583bf352fe3715bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af524c262fedf7990583bf352fe3715bb">&#9670;&#160;</a></span>reset_histories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> reset_histories </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>history_distances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *&#160;</td>
          <td class="paramname"><em>history_tours</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *&#160;</td>
          <td class="paramname"><em>history_visited</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>&#160;</td>
          <td class="paramname"><em>num_cities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function used to reset the histories of each ant to prevent confusion in future iterations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">history_distances</td><td>The distance history of each ant </td></tr>
    <tr><td class="paramname">history_tours</td><td>The tour history of each ant </td></tr>
    <tr><td class="paramname">history_visited</td><td>The visited cities of each ant (should be an array of all 1s) </td></tr>
    <tr><td class="paramname">num_cities</td><td>The size of the problem </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00329">329</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  330</span>{</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> = <a class="code hl_function" href="_ant_colony_8cu.html#a1b5a49b05177027e38314c434c172472">get_index</a>();</div>
<div class="line"><span class="lineno">  332</span>    <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a>] = 0.0;</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>++)</div>
<div class="line"><span class="lineno">  335</span>    {</div>
<div class="line"><span class="lineno">  336</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>] = 0;</div>
<div class="line"><span class="lineno">  337</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_visited</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>] = 0;</div>
<div class="line"><span class="lineno">  338</span>    }</div>
<div class="line"><span class="lineno">  339</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ace5d2dbc52193d125be3ec4a13c5c192" name="ace5d2dbc52193d125be3ec4a13c5c192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5d2dbc52193d125be3ec4a13c5c192">&#9670;&#160;</a></span>setup_curand_states()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void setup_curand_states </td>
          <td>(</td>
          <td class="paramtype">curandState *&#160;</td>
          <td class="paramname"><em>dev_states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helper function to initialize cuRAND states with a random seed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_states</td><td>A pointer to the cuRAND states on the device needing initialization </td></tr>
    <tr><td class="paramname">seed</td><td>The randomly determined seed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00423">423</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>{</div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code hl_function" href="_ant_colony_8cu.html#a1b5a49b05177027e38314c434c172472">get_index</a>();</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">if</span>(index &lt; <a class="code hl_define" href="_model_parameters_8h.html#a8d7114d1439b8bf84f84d84b6a5e99d5">NUM_ANTS</a>)</div>
<div class="line"><span class="lineno">  427</span>    {</div>
<div class="line"><span class="lineno">  428</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">curand_init</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">seed</a>, index, 0, &amp;<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">dev_states</a>[index]);</div>
<div class="line"><span class="lineno">  429</span>    }</div>
<div class="line"><span class="lineno">  430</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8628347ed6a7c0800505c9def85d48fb" name="a8628347ed6a7c0800505c9def85d48fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8628347ed6a7c0800505c9def85d48fb">&#9670;&#160;</a></span>update_pheromone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">__global__</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">void</a> update_pheromone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>matrix_pheromones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> *&#160;</td>
          <td class="paramname"><em>history_distances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">const</a> <a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> *&#160;</td>
          <td class="paramname"><em>history_tours</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>&#160;</td>
          <td class="paramname"><em>num_cities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updating the pheromones according to the standard constant pheromone deposit method. </p>
<p>We use the standard constant pheromone deposit method for simplicity, but the AS-LBT method of pheromone updating shows substantially better results. This is an area of future work we want to consider to improve this algorithm </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix_pheromones</td><td>A pointer to the pheromone matrix to be updated </td></tr>
    <tr><td class="paramname">history_distances</td><td>Each ant's solution found on this iteration </td></tr>
    <tr><td class="paramname">history_tours</td><td>Each ant's tour for this iteration </td></tr>
    <tr><td class="paramname">num_cities</td><td>The number of cities each ant visited </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00275">275</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  276</span>{</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> = <a class="code hl_function" href="_ant_colony_8cu.html#a1b5a49b05177027e38314c434c172472">get_index</a>();</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    <span class="comment">//assert(history_distances[ant_id] &gt; 0);</span></div>
<div class="line"><span class="lineno">  280</span>    <span class="comment">//constant pheromone deposit method</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordtype">double</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">pheromone_delta</a> = <a class="code hl_define" href="_model_parameters_8h.html#acbcee443d6d55cb8600b3f240f5cf907">Q</a> / (<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_distances</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a>] + 0.001);</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <span class="comment">//iterate through each edge traveled by an ant</span></div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> = 0; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>++)</div>
<div class="line"><span class="lineno">  285</span>    {</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">from</a>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">to</a>;</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        <span class="comment">//if we aren&#39;t at the end of the tour yet</span></div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> &lt; <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> - 1)</div>
<div class="line"><span class="lineno">  290</span>        {</div>
<div class="line"><span class="lineno">  291</span>            <span class="comment">//we want to add the pheromone delta to the edge {v_i, v_{i+1}}</span></div>
<div class="line"><span class="lineno">  292</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">from</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>];</div>
<div class="line"><span class="lineno">  293</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">to</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a> + 1];</div>
<div class="line"><span class="lineno">  294</span>        }</div>
<div class="line"><span class="lineno">  295</span>        <span class="comment">//if we are at the end of the tour</span></div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  297</span>        {</div>
<div class="line"><span class="lineno">  298</span>            <span class="comment">//we want to add the pheromone delta to the edge {v_{n-1}, v_0}</span></div>
<div class="line"><span class="lineno">  299</span>            <span class="comment">//this is because we want to end the full tour where we started (v_0)</span></div>
<div class="line"><span class="lineno">  300</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">from</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">i</a>];</div>
<div class="line"><span class="lineno">  301</span>            <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">to</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">history_tours</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">ant_id</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a>];</div>
<div class="line"><span class="lineno">  302</span>        }</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>        <span class="comment">//we update the entry at city_index with the pheromone delta</span></div>
<div class="line"><span class="lineno">  305</span>        <span class="comment">//because we are using the pheromone matrix to represent the weight</span></div>
<div class="line"><span class="lineno">  306</span>        <span class="comment">//of traveling where start = from and end = to. Since we collapsed the</span></div>
<div class="line"><span class="lineno">  307</span>        <span class="comment">//matrix into a 1d array, the edge between vertices {from, to} is stored</span></div>
<div class="line"><span class="lineno">  308</span>        <span class="comment">//at the ant_id from * n + to, where n = num_cities. This is a standard way</span></div>
<div class="line"><span class="lineno">  309</span>        <span class="comment">//of using a 1d array as a matrix</span></div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a> = <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">from</a> * <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">num_cities</a> + <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">to</a>;</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>        <span class="comment">//printf(&quot;Ant %d went from %d to %d\n&quot;, ant_id, from, to);</span></div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>        <span class="comment">//this kernel runs once for each ant, so that each ant&#39;s matrix_pheromones</span></div>
<div class="line"><span class="lineno">  315</span>        <span class="comment">//can be calculated in parallel, but we must use atomic operations</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="comment">//as to not overwrite our update when another ant is currently updating</span></div>
<div class="line"><span class="lineno">  317</span>        <span class="keyword">auto</span> <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">a</a> = &amp;<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">matrix_pheromones</a>[<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">city_index</a>];</div>
<div class="line"><span class="lineno">  318</span>        <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">atomicAdd</a>(<a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">a</a>, <a class="code hl_function" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">pheromone_delta</a>);</div>
<div class="line"><span class="lineno">  319</span>    }</div>
<div class="line"><span class="lineno">  320</span>}</div>
<div class="ttc" id="a_model_parameters_8h_html_acbcee443d6d55cb8600b3f240f5cf907"><div class="ttname"><a href="_model_parameters_8h.html#acbcee443d6d55cb8600b3f240f5cf907">Q</a></div><div class="ttdeci">#define Q</div><div class="ttdef"><b>Definition</b> <a href="_model_parameters_8h_source.html#l00011">ModelParameters.h:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a69579af52345ffaee98944067860c4cd" name="a69579af52345ffaee98944067860c4cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69579af52345ffaee98944067860c4cd">&#9670;&#160;</a></span>cities</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> cities</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00008">8</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="a7a9bc3d879ddb4da65bc3b4a2206b7f4" name="a7a9bc3d879ddb4da65bc3b4a2206b7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a9bc3d879ddb4da65bc3b4a2206b7f4">&#9670;&#160;</a></span>dev_curandStates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">curandState</a>* dev_curandStates</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00018">18</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="aa0d6d8da95d12b515caec3677dea1e82" name="aa0d6d8da95d12b515caec3677dea1e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d6d8da95d12b515caec3677dea1e82">&#9670;&#160;</a></span>dev_distances</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a>* dev_distances</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00011">11</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="ae588e7ba409f63a6a591c26ab5ed9598" name="ae588e7ba409f63a6a591c26ab5ed9598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae588e7ba409f63a6a591c26ab5ed9598">&#9670;&#160;</a></span>dev_distancesHistory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a>* dev_distancesHistory</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00014">14</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="a77a4298b9e791d37ac8170459b35791f" name="a77a4298b9e791d37ac8170459b35791f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a4298b9e791d37ac8170459b35791f">&#9670;&#160;</a></span>dev_pheromones</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> * dev_pheromones</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00011">11</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="ad9b3458e30694614f12776ac6744a6ec" name="ad9b3458e30694614f12776ac6744a6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9b3458e30694614f12776ac6744a6ec">&#9670;&#160;</a></span>dev_toursHistory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a>* dev_toursHistory</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00016">16</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="a804e24c44514a093b2e4540f827fb263" name="a804e24c44514a093b2e4540f827fb263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a804e24c44514a093b2e4540f827fb263">&#9670;&#160;</a></span>dev_visitedHistory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">int</a> * dev_visitedHistory</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00016">16</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="aa7fb7ac1449177cf1d68463d56aa8b95" name="aa7fb7ac1449177cf1d68463d56aa8b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fb7ac1449177cf1d68463d56aa8b95">&#9670;&#160;</a></span>host_distances</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a>* host_distances</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00010">10</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="a7e7f9470775e0e11270fdd04c2f6cfe5" name="a7e7f9470775e0e11270fdd04c2f6cfe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7f9470775e0e11270fdd04c2f6cfe5">&#9670;&#160;</a></span>host_distancesHistory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a>* host_distancesHistory</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00013">13</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
<a id="a28dead550744f139f15d842ce88b9d4b" name="a28dead550744f139f15d842ce88b9d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28dead550744f139f15d842ce88b9d4b">&#9670;&#160;</a></span>host_pheromones</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_ant_colony_8cu.html#ace5d2dbc52193d125be3ec4a13c5c192">double</a> * host_pheromones</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ant_colony_8cu_source.html#l00010">10</a> of file <a class="el" href="_ant_colony_8cu_source.html">AntColony.cu</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_98110dfa9920fc464ea50b090d7e3a05.html">Algorithms</a></li><li class="navelem"><a class="el" href="_ant_colony_8cu.html">AntColony.cu</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
